***************
*** 47,53 ****
  /*
   * kill an existing daemon and disable printing.
   */
- abort(argc, argv)
  	char *argv[];
  {
  	register int c, status;
--- 47,53 ----
  /*
   * kill an existing daemon and disable printing.
   */
+ xabort(argc, argv)
  	char *argv[];
  {
  	register int c, status;
***************
*** 208,215 ****
  	}
  }
  
- select(d)
- struct dirent *d;
  {
  	int c = d->d_name[0];
  
--- 208,215 ----
  	}
  }
  
+ xselect(d)
+ struct direct *d;
  {
  	int c = d->d_name[0];
  
***************
*** 223,229 ****
   * by `cf', `tf', or `df', then by the sequence letter A-Z, a-z.
   */
  sortq(d1, d2)
- struct dirent **d1, **d2;
  {
  	int c1, c2;
  
--- 223,229 ----
   * by `cf', `tf', or `df', then by the sequence letter A-Z, a-z.
   */
  sortq(d1, d2)
+ struct direct **d1, **d2;
  {
  	int c1, c2;
  
***************
*** 247,253 ****
  {
  	register int i, n;
  	register char *cp, *cp1, *lp;
- 	struct dirent **queue;
  	int nitems;
  
  	bp = pbuf;
--- 247,253 ----
  {
  	register int i, n;
  	register char *cp, *cp1, *lp;
+ 	struct direct **queue;
  	int nitems;
  
  	bp = pbuf;
***************
*** 259,265 ****
  		;
  	lp[-1] = '/';
  
- 	nitems = scandir(SD, &queue, select, sortq);
  	if (nitems < 0) {
  		printf("\tcannot examine spool directory\n");
  		return;
--- 259,265 ----
  		;
  	lp[-1] = '/';
  
+ 	nitems = scandir(SD, &queue, xselect, sortq);
  	if (nitems < 0) {
  		printf("\tcannot examine spool directory\n");
  		return;
***************
*** 696,702 ****
  {
  	struct stat stbuf;
  	register int fd, i;
- 	register struct dirent *dp;
  	DIR *dirp;
  
  	bp = pbuf;
--- 696,702 ----
  {
  	struct stat stbuf;
  	register int fd, i;
+ 	register struct direct *dp;
  	DIR *dirp;
  
  	bp = pbuf;
