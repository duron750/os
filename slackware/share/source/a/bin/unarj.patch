diff -C 3 unarj-old/Makefile unarj/Makefile
*** unarj-old/Makefile	Mon Apr 13 15:57:29 1992
--- unarj/Makefile	Tue Feb  9 23:02:15 1993
***************
*** 1,7 ****
  # Makefile for unarj for UNIX
  
  CC	= gcc
! CFLAGS	= -O6 -Wall -DUNIX -DUSHORT_DEFINED
  
  all:	unarj
  
--- 1,7 ----
  # Makefile for unarj for UNIX
  
  CC	= gcc
! CFLAGS	= -O6 -Wall -DLINUX 
  
  all:	unarj
  
***************
*** 12,18 ****
  environ.o:	environ.c unarj.h
  
  unarj.a:	unarj.o decode.o environ.o
! 	$(LD) -x -r -o $@.a unarj.o decode.o environ.o
  
  unarj:		unarj.a
  	$(CC) -s -o $@ $@.a
--- 12,21 ----
  environ.o:	environ.c unarj.h
  
  unarj.a:	unarj.o decode.o environ.o
! 	$(LD) -x -r -o $@ unarj.o decode.o environ.o
  
  unarj:		unarj.a
  	$(CC) -s -o $@ $@.a
+ 
+ clean:
+ 	rm -f *.o unarj.a unarj
diff -C 3 unarj-old/unarj.h unarj/unarj.h
*** unarj-old/unarj.h	Mon Apr 13 14:40:40 1992
--- unarj/unarj.h	Tue Feb  9 23:00:27 1993
***************
*** 33,38 ****
--- 33,42 ----
  #ifndef _ARH_DEF_
  #define _ARH_DEF_
  
+ #ifdef LINUX
+ #  define UNIX
+ #endif /* LINUX */
+ 
  /* Use prototypes and ANSI libraries if __STDC__ */
  #ifdef __STDC__
  #  define MODERN
***************
*** 100,105 ****
--- 104,113 ----
  #  define SEEK_END 2
  #endif
  
+ #ifdef LINUX
+ #  include <sys/types.h>
+ typedef unsigned char  uchar;   /*  8 bits or more */
+ #else /* !LINUX */
  typedef unsigned char  uchar;   /*  8 bits or more */
  typedef unsigned int   uint;    /* 16 - 32 bits or more */
  #ifndef USHORT_DEFINED
***************
*** 106,111 ****
--- 114,120 ----
  typedef unsigned short ushort;  /* 16 bits or more */
  #endif
  typedef unsigned long  ulong;   /* 32 bits or more */
+ #endif /* ?LINUX */
  
  #define USHRT_BIT   (CHAR_BIT * sizeof(ushort))
  
