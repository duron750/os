Only in gas-2.2/bfd: bfd-in2.h
Only in gas-2.2/bfd: libbfd.h
Only in gas-2.2/bfd: libcoff.h
diff -rc gas-2.2/gas/ChangeLog gas-2.2l/gas/ChangeLog
*** gas-2.2/gas/ChangeLog	Wed Nov 10 15:29:46 1993
--- gas-2.2l/gas/ChangeLog	Wed Jan 12 22:33:14 1994
***************
*** 1,3 ****
--- 1,8 ----
+ Wed Jan 12 16:53:50 1994  H.J. Lu (hlu@nighthawk)
+ 
+ 	* write.c (fixup_segment): fix the displacement range
+ 	  checking.
+ 
  Fri Nov  5 15:20:51 1993  Ken Raeburn  (raeburn@rover.cygnus.com)
  
  	* Makefile.in (VERSION): Updated.
Only in gas-2.2l/gas: config-stamp
Only in gas-2.2l/gas: config.h
Only in gas-2.2/gas/doc: as.info
Only in gas-2.2/gas/doc: as.info-1
Only in gas-2.2/gas/doc: as.info-2
Only in gas-2.2/gas/doc: as.info-3
Only in gas-2.2/gas/doc: as.info-4
Only in gas-2.2/gas/doc: as.info-5
Only in gas-2.2/gas/doc: as.info-6
diff -rc gas-2.2/gas/write.c gas-2.2l/gas/write.c
*** gas-2.2/gas/write.c	Wed Nov  3 17:48:20 1993
--- gas-2.2l/gas/write.c	Wed Jan 12 13:26:27 1994
***************
*** 2026,2033 ****
--- 2026,2040 ----
  	       undefined result if size is sizeof (valueT), though I
  	       think these two half-way operations should both be
  	       defined.  */
+ #if 1
+ 	    /* This one works as it should be. H.J. */
+ 	    mask <<= size * 8 - 1;
+ #else
+ 	    /* It looks like straight from gas 1.38.1 which is wrong.
+ 	     * H.J. */
  	    mask <<= size * 4;
  	    mask <<= size * 4;
+ #endif
  	    if ((add_number & mask) != 0
  		&& (add_number & mask) != mask)
  	      {
diff -rc gas-2.2/include/opcode/ChangeLog gas-2.2l/include/opcode/ChangeLog
*** gas-2.2/include/opcode/ChangeLog	Wed Nov 10 15:05:12 1993
--- gas-2.2l/include/opcode/ChangeLog	Wed Jan 12 22:30:56 1994
***************
*** 1,3 ****
--- 1,8 ----
+ Wed Jan 12 16:43:50 1994  H.J. Lu (hlu@nighthawk)
+ 
+ 	* i386.h (jcxz): The data size prefix is 0x66, not 0x67 which
+ 	  is the address size prefix.
+ 
  Fri Nov  5 14:34:26 1993  Ian Lance Taylor  (ian@cygnus.com)
  
  	* mips.h (OP_MASK_CACHE, OP_SH_CACHE): Define.  From Ted Lemon
diff -rc gas-2.2/include/opcode/i386.h gas-2.2l/include/opcode/i386.h
*** gas-2.2/include/opcode/i386.h	Tue Nov  2 15:59:53 1993
--- gas-2.2l/include/opcode/i386.h	Wed Jan 12 13:09:29 1994
***************
*** 48,54 ****
--- 48,58 ----
  {"push", 1, 0x50, _, ShortForm, { WordReg,0,0 } },
  {"push", 1, 0xff, 0x6,  Modrm, { WordReg|WordMem, 0, 0 } },
  {"push", 1, 0x6a, _, NoModrm, { Imm8S, 0, 0} },
+ #if 1
+ {"push", 1, 0x68, _, NoModrm, {Imm16|Imm32, 0, 0} },
+ #else
  {"push", 1, 0x68, _, NoModrm, { Imm32, 0, 0} },
+ #endif
  {"push", 1, 0x06, _,  Seg2ShortForm, { SReg2,0,0 } },
  {"push", 1, 0x0fa0, _, Seg3ShortForm, { SReg3,0,0 } },
  /* push all */
***************
*** 323,333 ****
  
  /* these turn into pseudo operations when disp is larger than 8 bits */
  #define IS_JUMP_ON_CX_ZERO(o) \
!   (o == 0x67e3)
  #define IS_JUMP_ON_ECX_ZERO(o) \
    (o == 0xe3)
  
! {"jcxz", 1, 0x67e3, _, JumpByte, { Disp, 0, 0} },
  {"jecxz", 1, 0xe3, _, JumpByte, { Disp, 0, 0} },
  
  #define IS_LOOP_ECX_TIMES(o) \
--- 327,337 ----
  
  /* these turn into pseudo operations when disp is larger than 8 bits */
  #define IS_JUMP_ON_CX_ZERO(o) \
!   (o == 0x66e3)
  #define IS_JUMP_ON_ECX_ZERO(o) \
    (o == 0xe3)
  
! {"jcxz", 1, 0x66e3, _, JumpByte, { Disp, 0, 0} },
  {"jecxz", 1, 0xe3, _, JumpByte, { Disp, 0, 0} },
  
  #define IS_LOOP_ECX_TIMES(o) \
